function Popup(t){var e=t,n={scrollbars:"yes",resizable:"yes",menubar:"no",titlebar:"no",location:"no",toolbar:"no",height:400,width:500,top:200,left:200};this.option=function(){if(arguments.length<1)return this;if(1===arguments.length){var t=arguments[0];return"object"==typeof t&&Object.assign(n,t),this}return n[arguments[0]]=arguments[1],this};var o={close:function(){console.debug("empty on_close called")}};this.on=function(t,e){return o[t]=e,this};var r,i;this.open=function(t){function s(){return"scrollbars="+n.scrollbars+",resizable="+n.resizable+",menubar="+n.menubar+",titlebar="+n.titlebar+", location ="+n.location+", toolbar ="+n.toolbar+", top ="+n.top+", left ="+n.left+", width ="+n.width+", height ="+n.height}return(o.open||function(){})(),r=window.open(e,t,s()),i=r.close,r.close=this.close,this},this.close=function(){var t=o.close||function(){};t.apply(this,arguments),i.apply(this)}}module.exports=function(t){return new Popup(t)};